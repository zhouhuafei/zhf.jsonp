"use strict";var extend=require("zhf.extend"),qs=require("zhf.query-string");module.exports=function(e){var n=extend({url:"",data:{},callback:function(){}},e),t=n.url,r=n.data,a=n.callback;if(t){var d=(""+Math.random()).substring(2),c="jsonpCallback"+(new Date).getTime()+d;window[c]=function(e){a(e)};var i=document.createElement("script");i.addEventListener("error",function(){document.body.removeChild(i)}),i.addEventListener("load",function(){document.body.removeChild(i)});var o=qs.queryStringify(r);i.src=o?t+"?"+o+"&callback="+c:t+"?callback="+c,document.body.appendChild(i)}};